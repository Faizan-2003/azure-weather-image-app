### Weather Image API Documentation
### Base URL: http://localhost:7071 (local) or https://your-function-app.azurewebsites.net (Azure)
### All requests require X-API-Key header

@baseUrl = http://localhost:7071
@apiKey = test-api-key-12345

### 1. Start a new weather image job
# This endpoint initiates the image generation process for all weather stations
POST {{baseUrl}}/api/job/start
X-API-Key: {{apiKey}}
Content-Type: application/json

###

### 2. Get job status
# Replace {jobId} with the actual job ID returned from the start endpoint
GET {{baseUrl}}/api/job/your-job-id-here
X-API-Key: {{apiKey}}

###

### 3. Test image processing
# This endpoint generates a single test image for the first weather station
GET {{baseUrl}}/api/test/image
X-API-Key: {{apiKey}}

###

### Example: Full workflow
### Step 1: Start a new job
POST {{baseUrl}}/api/job/start
X-API-Key: {{apiKey}}

# Response will look like:
# {
#   "jobId": "550e8400-e29b-41d4-a716-446655440000",
#   "status": "InProgress",
#   "message": "Job started with 50 stations"
# }

###

### Step 2: Check job status (replace with actual jobId from step 1)
GET {{baseUrl}}/api/job/550e8400-e29b-41d4-a716-446655440000
X-API-Key: {{apiKey}}

# Response will look like:
# {
#   "jobId": "550e8400-e29b-41d4-a716-446655440000",
#   "status": "InProgress",
#   "totalStations": 50,
#   "processedStations": 25,
#   "images": [
#     {
#       "stationName": "Amsterdam",
#       "imageUrl": "https://...blob.core.windows.net/weather-images/...",
#       "createdAt": "2025-11-04T12:00:00Z"
#     }
#   ]
# }

###

### Azure Production Example
### Update these variables for your deployed function
@azureUrl = https://weather-image-func-xyz.azurewebsites.net
@azureApiKey = your-production-api-key

### Start job on Azure
POST {{azureUrl}}/api/job/start
X-API-Key: {{azureApiKey}}

###

### Get job status on Azure
GET {{azureUrl}}/api/job/your-job-id-here
X-API-Key: {{azureApiKey}}

###

### Test unauthorized access (should return 401)
POST {{baseUrl}}/api/job/start
X-API-Key: wrong-api-key

###
